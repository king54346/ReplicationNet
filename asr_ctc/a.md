输入：声学特征序列
X = [x1, x2, ..., xT]   （T 很大）

输出：文本序列
Y = [y1, y2, ..., yL]   （L 很小）


CTC 引入了一个 “中间表示”：
假设原标签是：
Vocabulary = {A, B, C}
CTC 加一个特殊符号：∅  （blank）
t	输出
1	∅
2	A
3	A
4	∅
5	B
6	∅
7	C

CTC 定义了一个 压缩规则（collapse）
1.合并连续重复
A A A → A
2.删除所有 blank 符号
∅ A ∅ B ∅ → A B

枚举所有合法路径 π（长度 = 3）
π₁ = [A, A, B]
π₂ = [A, ∅, B]
π₃ = [∅, A, B]
π₄ = [A, B, B]

计算每条路径的概率
路径 1：[A, A, B]
= 0.3 × 0.6 × 0.7 = 0.126
路径 2：[A, B, C]
= 0.3 × 0.1 × 0.7 = 0.021
路径 3：[∅, A, B]
= 0.6 × 0.6 × 0.7 = 0.252

P(Y∣X)=0.126+0.021+0.252+0.063=0.462
CTC Loss=−log(0.462)≈0.772

Forward–Backward DP（对扩展标签序列）



p1, p2, ..., pT 是每个时间步的输出概率分布
P(Y | X) = Σ P(π | X)  （π 是所有可能的对齐路径）
P(π | X) = Π p_t(π_t)
CTC Loss = - log P(Y | X)





